<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda L√°mparas</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="/main.css">
</head>
<body>
<div class="wrapper">

    <aside>
        <header>
            <h1 class="logo">Aura Artesanal</h1>
        </header>

        <nav>
            <ul class="menu">
                <li>
                    <button id="todos" class="boton-menu boton-categoria active">
                        <i class="bi bi-hand-index-thumb-fill"></i>Todos los productos
                    </button>
                </li>
                <li>
                    <button id="LAMPARA" class="boton-menu boton-categoria">
                        <i class="bi bi-hand-index-thumb"></i>L√°mparas
                    </button>
                </li>
                <li>
                    <button id="MACETA" class="boton-menu boton-categoria">
                        <i class="bi bi-hand-index-thumb"></i>Macetas
                    </button>
                </li>
                <li>
                    <button id="RELOJ" class="boton-menu boton-categoria">
                        <i class="bi bi-hand-index-thumb"></i>Relojes
                    </button>
                </li>
                <li>
                    <a class="boton-carrito" href="/carrito">
                        <i class="bi bi-cart-fill"></i>
                        Carrito <span id="numerito" class="numerito">0</span>
                    </a>
                </li>
            </ul>
            <div class="opciones-usuario">
                <div sec:authorize="hasRole('ADMIN')">
                    <a class="boton-menu boton-agregar" href="/productos/nuevo">
                        <i class="bi bi-plus-circle"></i> Nuevo producto
                    </a>
                </div>
                <form action="/logout" method="post" style="display: inline;">
                    <button type="submit" class="boton-menu">
                        <i class="bi bi-box-arrow-right"></i> Cerrar sesi√≥n
                    </button>
                </form>
            </div>


        </nav>

        <footer>
            <p class="texto-footer">2025 L√°mparas Coder</p>
        </footer>
    </aside>

    <main>
        <!-- üîç Filtros -->
        <div class="filtro-busqueda">
            <input type="text" id="busquedaNombre" placeholder="Buscar producto...">
            <select id="busquedaCategoria">
                <option value="todos">Todas las categor√≠as</option>
                <option value="LAMPARA">L√°mparas</option>
                <option value="MACETA">Macetas</option>
                <option value="RELOJ">Relojes</option>
            </select>

            <select id="ordenarProductos">
                <option value="ninguno">Ordenar por...</option>
                <option value="precioAsc">Precio: menor a mayor</option>
                <option value="precioDesc">Precio: mayor a menor</option>
                <option value="nombreAsc">Nombre: A - Z</option>
                <option value="nombreDesc">Nombre: Z - A</option>
            </select>

            <input type="number" id="precioMin" placeholder="Precio m√≠n" min="0">
            <input type="number" id="precioMax" placeholder="Precio m√°x" min="0">
            <button id="btnFiltrar">Filtrar</button>
            <button id="btnLimpiar">Limpiar</button>
        </div>

        <!-- üè∑Ô∏è T√≠tulo del cat√°logo -->
        <h2 class="titulo-principal" id="titulo-principal">Todos los productos</h2>

        <!-- üì¶ Contenedor din√°mico de productos -->
        <div id="contenedor-productos" class="contenedor-productos">
            <!-- Los productos se insertar√°n aqu√≠ con JS -->
        </div>
    </main>
</div>

<!-- üîé Ventana modal informativa (si la usas) -->
<div class="overlay-info-ventana">
    <div class="info-ventana">CONTENEDOR DE INFORMACI√ìN</div>
</div>

<!-- üìú Script JS din√°mico -->
<script src="/main.js"></script>

</body>
<!-- MODAL DE INFORMACI√ìN DEL PRODUCTO -->
<div id="modalProducto" class="modal">
    <div class="modal-contenido">
        <span class="cerrar-modal">&times;</span>

        <img id="modal-imagen" src="" alt="Producto" width="200">
        <h2 id="modal-nombre"></h2>
        <p id="modal-descripcion"></p>
        <p><strong>Precio:</strong> $<span id="modal-precio"></span></p>
        <p><strong>Categor√≠a:</strong> <span id="modal-categoria"></span></p>

        <hr>

        <h3>Rese√±as</h3>
        <div id="modal-rese√±as" class="rese√±as-container">
            <p>Cargando rese√±as...</p>
        </div>

        <hr>

        <h4 th:text="${usuario != null && usuario.username != null ? 'Hola ' + usuario.username + ', deja tu rese√±a' : 'Deja tu rese√±a'}"></h4>
        <form id="formRese√±a" class="form-rese√±a">
            <input type="hidden" id="rese√±a-nombre" th:value="${usuario != null ? usuario.username : ''}">
            <textarea id="rese√±a-comentario" placeholder="Escribe tu rese√±a..." required></textarea>
            <div class="rese√±a-estrellas">
                <label>Puntuaci√≥n:</label>
                <div id="estrellas">
                    <span data-value="1">‚≠ê</span>
                    <span data-value="2">‚≠ê</span>
                    <span data-value="3">‚≠ê</span>
                    <span data-value="4">‚≠ê</span>
                    <span data-value="5">‚≠ê</span>
                </div>
            </div>
            <button type="submit" id="btnEnviarRese√±a">Enviar rese√±a</button>
        </form>

        <hr>

        <button id="modal-agregar-carrito" class="agregar-carrito">
            <i class="bi bi-cart-plus"></i> Agregar al carrito
        </button>
    </div>
</div>
</html>
